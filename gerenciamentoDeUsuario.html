<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gerenciamento de usuário</title>
</head>

<body>
    <main>

        <script>
// Criar um sistema de gerenciamento de usuários. Para isso voce precisa realizar o seguinte processo:
// Criação de um menu com as 4 operações que o usuário pode realizar (Cadastrar, listar, atualizar, deletar)
// realizar a criação dos métodos com switch case para validar as opções do usuário
// Utilizar arrays, métodos, operadores unários, aritméticos, etc
// Quando realizar o cadastro do usuário, realizar também a data de cadastro do usuário (quando ele foi criado) e exibir o usuário, o email e a data que o usuário foi criando
// Cadastro: Nome, email e senha
// Listagem: Data de criação(atual), nome, email e senha
// atualizar: com base no email e senha
// excluir: com base no email

            let escolhaUsuario;
            const dataAtual = new Date();
            dataAtual.toLocaleString('pt-BR', { timezone: 'UTC' });
            let agenda = [];//{nome: "junior", telefone: 11985615818, data: "24/02/1998"}

            while (escolhaUsuario !== 5) {

                escolhaUsuario = parseInt(prompt(`
                Escolha uma opção abaixo:
              ---------------------------------
                [1] Cadastrar um usuário...
                [2] Listagem um usuário...
                [3] Atualizar um usuário...
                [4] Excluir um usuário...
                [5] sair do programa CRUD...
            `));


                switch (escolhaUsuario) {
                    case 1:
                        // Cadastro: Nome, email e senha
                        let nome = prompt(`Informe o seu primeiro nome: `);
                        let email = prompt(`Informe emial:`);
                        let senha = prompt(`Informe uma senha: `)

                        agenda.push({ nome, email, senha, dataAtual })

                        break;

                    case 2:
                        let listaDeUsuario = 'Lista de usuários \n';


                        for (item of agenda) {
                            // Listagem: Data de criação(atual), nome, email e senha
                            listaDeUsuario += `Nome: ${item.nome}, email: ${item.email}, senha: ${item.senha}, data de criação: ${dataAtual.toLocaleString('pt-BR', { timezone: 'UTC' })}\n`
                        }

                        alert(listaDeUsuario)
                        
                        break;

                    case 3:
                        // atualizar: com base no email e senha
                        let nomeAtualizar = prompt(`Digite o nome para atualizar: `);

                        let emailAtualizado = agenda.find((ele) => ele.nome === nomeAtualizar)

                        if (emailAtualizado) {
                            emailAtualizado.nome = prompt("Informe o seu nome: ")
                            emailAtualizado.email = prompt("Informe o seu email: ")

                        } else {
                            alert(`Nenhum usuário foi encontrado no sistema!`)
                        }


                        break;

                    case 4:
                        let emailExcluir = prompt(`Digite o email para excluir: `)

                        let emailBuscadoExcluir = agenda.findIndex((deleteUser) => deleteUser.nome === emailExcluir)
                        
                        // excluir: com base no email
                            if (emailBuscadoExcluir !== -1) {

                                agenda.splice(emailBuscadoExcluir, 1);

                            } else {
                                alert(`Nenhum usuário foi encontrado no sistema!`)
                            }

                        break;

                    case 5:

                        break;

                    default:
                        console.log(`erro numero invalido`)
                        break;
                }
            }
        </script>

    </main>
</body>

</html>